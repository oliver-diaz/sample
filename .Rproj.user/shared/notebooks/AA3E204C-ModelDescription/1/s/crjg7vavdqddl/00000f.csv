"0","summary_dis <- lapply(1:6, function(k){econmod$disprog_[from >= k, .(TTD = sum(time_spent)),"
"0","                                               by = .(sample, strategy_id, patient_id)]})"
"0","summary_dis <- lapply(1:6, function(k){ summary_dis[[k]][, from := k]})"
"0","summary_dis <- do.call(rbind, summary_dis)"
"0",""
"0","summary_dis <- summary_dis[, .(OSmean = mean(TTD), OSmedian = median(TTD) ),"
"0","         by = .(sample, strategy_id, from)]"
"0","summary_dis <- summary_dis[,.(medianOS = mean(OSmedian),"
"0","                              meanOS = mean(OSmean),"
"0","                              low = quantile(OSmean, .025),"
"0","                              up = quantile(OSmean, .975)),"
"0","                           by = .(strategy_id, from)]"
"0","summary_dis <- summary_dis[order(strategy_id, from)]"
"0","summary_dis <- left_join(summary_dis, per_line[,.(strategy_id, from, prop_init)],"
"0","                         by = c('strategy_id', 'from'))"
"0","names(summary_dis) <- c(""Strategy"", ""LOT"","
"0","                          ""Median"", ""Mean"","
"0","                         ""Low 5%"", ""Top 5%"", ""% of initial pop"")"
"0","summary_dis <- summary_dis[, `:=`(`LOT` = ifelse(LOT == 6, ""5+"", LOT),"
"0","                                  `Median OS` = round(Median,2),"
"0","                                  `Mean OS` = round(Mean,2),"
"0","                                  `95% - CI` = paste0(""("",round(`Low 5%`,2),"", "","
"0","                                  round(`Top 5%`,2), "")"")"
"0","                                  )]"
"0",""
"0","# OS tbl"
"0","tbl_summaryOS <- summary_dis[, .(Strategy, `% of initial pop`, LOT,"
"0","            `Median OS`, `Mean OS`, "
"0","            `95% - CI`)]"
"0","tbl_summaryOS$`% of initial pop` <- round(tbl_summaryOS$`% of initial pop`,2)"
"0",""
"0","knitr::kable(tbl_summaryOS,"
"0","  longtable = T,"
"0","  booktabs = T,"
"0","  linesep = linesep(c(6,6,6)),"
"0","  caption = ""Overall survival (OS) from line of treatment"","
"0","  align = ""rrrrr"") %>%"
"0","  kableExtra::kable_styling('striped', latex_options = ""hold_position"")"
