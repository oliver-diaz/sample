"0","# Tables with HR ranges for each LOT (t1.hr-t5.hr and death from palliative state, td.hr)"
"0","HR.data <- list("
"0","  t1.hr = data.frame(low = c(s1=1, notst3 = .8, st3 = .9), "
"0","                     up  = c(s1=1, notst3 = .91, st3 = 1)"
"0","                     ),"
"0","  t2.hr = data.frame(low = c(s1=.74, st1 =.9, st2= .60, st3= .97), "
"0","                     up  = c(s1=1.1, st1=.96, st2=.65,  st3= 1)"
"0","                     ),"
"0","  t3.hr = data.frame(low = c(s1=.59, notst2 =.9, st2= .8), "
"0","                     up  = c(s1=1.54,notst2=.96, st2=.9)"
"0","                     ),"
"0","  t4.hr = data.frame(low = c(s1=1,  st1 =.9,  st2=.85, st3= .97), "
"0","                     up  = c(s1=1,  st1 =.96, st2=.9,  st3= 1)"
"0","                     ),"
"0","  t5.hr = data.frame(low = c(s1=.83,  st1=.75, st2=.88, st3= .88),"
"0","                     up  = c(s1=1.3, st1=.8,  st2=1,   st3= 1)"
"0","                     ),"
"0","  td.hr = data.frame(low = c(s1=3, st1 =1, st2=1, st3=1), "
"0","                     up  = c(s1=3, st1 =1, st2=1, st3=1)"
"0","                     )"
"0",")"
"0",""
"0","#LOW PORTION"
"0","#DO NOT EDIT BELOW THIS LINE"
"0","#create a summary table of the HR adjustments*/"
"0",""
"0",""
"0","hr_names <- list(t1 = c('stage1', 'notst3', 'st3'),"
"0","                 t2 = c('stage1', paste0('st',1:3)),"
"0","                 t3 = c('stage1', 'notst3', 'st3'),"
"0","                 t4 = c('stage1', paste0('st',1:3)),"
"0","                 t5 = c('stage1', paste0('st',1:3)),"
"0","                 td = c('stage1', paste0('st',1:3)))"
"0","#tran_names <- names(labs$transition_id)"
"0","tran_names <- rownames(tmat)"
"0",""
"0",""
"0",""
"0","hr <- copy(HR.data)"
"0","hr <- lapply(1:length(hr), function(k){data.table(hr[[k]])[, strategy := hr_names[[k]]] })"
"0","hr <- lapply(1:length(hr), function(k){hr[[k]][,LOT:= tran_names[k]]})"
"0","hr <- do.call(rbind, hr)"
"0",""
"0","temp <-data.table(strategy =c(""stage1"", ""st1"", ""st2"", ""st3"", ""notst2"", ""notst3""),"
"0","                  Sequence = c(""stage1"", ""1"", ""2"", ""3"", ""Not 2"", ""Not 3""))"
"0","hr <- left_join(hr, temp, by =""strategy"")[, .(Sequence, LOT,  low, up)]"
"0","hr <- hr[, Treatment := c(rep(c(stage1=""Adj to Ref Seq"", notst3 = ""DVRd + ASCT + DR"",   st3 = ""DVrd + DRd""), 1),  # Line 1"
"0","                          rep(c(stage1=""Adj to Ref Seq"", st1 = ""DKd"", st2 = ""Cilta-cel"", st3= ""Tec""),1), # Line 2"
"0","                          rep(c(stage1=""Adj to Ref Seq"", notst2 = ""EloPd"", st2 =""TalDara""),1),  # Line 3"
"0","                          rep(c(stage1=""Adj to Ref Seq"", ""Sd"", ""Tec"", ""Tal""), 1),   # Line 4"
"0","                          rep(c(stage1=""Adj to Ref Seq"", ""Cilta-cel"", ""SKd"", ""Kd""),1),  # Line 5"
"0","                          rep(""Paliative"",4))] # Line 5+"
"0","knitr::kable(hr[, c(2,5,3,4)],"
"0","  caption = ""Hazard ratio ranges for each treatment"","
"0","  digits = 2, "
"0","  booktabs = TRUE, valign = ""t"""
"0",") %>%"
"0","  kableExtra::kable_styling(bootstrap_options = ""striped"", latex_options = ""hold_position"" )"
